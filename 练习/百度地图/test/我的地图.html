<!DOCTYPE html>  
<html>
<head>  
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />  
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />  
<title>Hello, World</title>  
<style type="text/css">  
    html{height:100%}  
    body{height:100%;margin:0px;padding:0px}  
    #container{height:100%}  
</style>  
<script type="text/javascript" src="http://api.map.baidu.com/api?v=3.0&ak=8jmD3Hhd9QLXWtBcS2GyYcGF4zxDPdTG">
//v3.0版本的引用方式：src="http://api.map.baidu.com/api?v=3.0&ak=您的密钥"
</script>
</head>  
 
<body>  
<div id="container"></div> 
<script type="text/javascript"> 
var map = new BMap.Map("container");
// 创建地图实例  23.1320963242,113.3793128722(方圆E时光)

// var point = new BMap.Point(113.379, 23.132);
// // 创建点坐标  

// map.centerAndZoom(point, 15);
// 初始化地图，设置中心点坐标和地图级别  

map.addControl(new BMap.NavigationControl());
map.addControl(new BMap.ScaleControl());
// map.addControl(new BMap.OverviewMapControl());    
// map.addControl(new BMap.MapTypeControl());    
// map.setCurrentCity("广州"); // 仅当设置城市信息时，MapTypeControl的切换功能才能可用 
// 添加控件

// var marker = new BMap.Marker(point);        // 创建标注    
// map.addOverlay(marker);

// ======================创建地址解析器实例    ====================== 
// var myGeo = new BMap.Geocoder();      
// 将地址解析结果显示在地图上，并调整地图视野    
// myGeo.getPoint("广州市天河区科韵路12号之一方圆E时光", function(point){      
//     if (point) {      
//         map.centerAndZoom(point, 16);      
//         map.addOverlay(new BMap.Marker(point));      
//     }      
//  }, 
// "广州市");

// myGeo.getPoint("广州市天河区科韵路12号之一方圆E时光", function(point){      
//     if (point) {      
//         map.centerAndZoom(point, 16);      
//         map.addOverlay(new BMap.Marker(point));      
//     }      
//  }, 
// "广州市");

// ======================出行路线规划======================
// map.centerAndZoom(new BMap.Point(116.404, 39.915), 14); 
// var driving = new BMap.DrivingRoute(map, { 
//     renderOptions: { 
//         map: map, 
//         autoViewport: true 
// } 
// });
// var start = new BMap.Point(116.310791, 40.003419);
// var end = new BMap.Point(116.486419, 39.877282);
// driving.search(start, end);

// ======================出行路线规划==============================
// map.centerAndZoom(new BMap.Point(116.404, 39.915), 14); 
// var options = { 
//     onSearchComplete: function(results){ 
//         if (driving.getStatus() == BMAP_STATUS_SUCCESS){ 
//             // 获取第一条方案 
//             var plan = results.getPlan(0); 
//             // 获取方案的驾车线路 
//             var route = plan.getRoute(0); 
//             // 获取每个关键步骤，并输出到页面 
//             var s = []; 
//             for (var i = 0; i < route.getNumSteps(); i ++) { 
//                 var step = route.getStep(i); 
//                 console.log(step); 
//             } 
//         } 
//     } 
// }; 
// var driving = new BMap.DrivingRoute(map, options);
// var start = new BMap.Point(116.310791, 40.003419);
// var end = new BMap.Point(116.486419, 39.877282);
// driving.search(start, end);


// ================浏览器定位获得现在位置============================
var point = new BMap.Point(116.331398,39.897445);
map.centerAndZoom(point,12);

var geolocation = new BMap.Geolocation();
geolocation.getCurrentPosition(function(r){
	if(this.getStatus() == BMAP_STATUS_SUCCESS){
        console.log(r);
        
		var mk = new BMap.Marker(r.point);
		map.addOverlay(mk);
		map.panTo(r.point);
		alert('您的位置：'+r.point.lng+','+r.point.lat);
	}
	else {
		alert('failed'+this.getStatus());
	}        
});

// ================IP定位 返回城市级别的定位结果===================
// var point = new BMap.Point(116.331398,39.897445);
// map.centerAndZoom(point,12);

// function myFun(result){
// 	var cityName = result.name;
// 	map.setCenter(cityName);
// 	alert("当前定位城市:"+cityName);
// }
// var myCity = new BMap.LocalCity();
// myCity.get(myFun); 


//============= 定位SDK辅助定位==========================
// var point = new BMap.Point(116.331398,39.897445);
// map.centerAndZoom(point,12);

// var geolocation = new BMap.Geolocation();
// // 开启SDK辅助定位
// geolocation.enableSDKLocation();
// geolocation.getCurrentPosition(function(r){
// 	if(this.getStatus() == BMAP_STATUS_SUCCESS){
// 		var mk = new BMap.Marker(r.point);
// 		map.addOverlay(mk);
// 		map.panTo(r.point);
// 		alert('您的位置：'+r.point.lng+','+r.point.lat);
// 	}
// 	else {
// 		alert('failed'+this.getStatus());
// 	}        
// });

// var point = new BMap.Point(116.404, 39.915);    
// map.centerAndZoom(point, 15);    
// window.setTimeout(function(){  
//     map.panTo(new BMap.Point(113.379, 23.132));    
// }, 2000);
</script>  
</body>  
</html>