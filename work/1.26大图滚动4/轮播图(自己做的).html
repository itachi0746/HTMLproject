<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>练习2</title>
	<style>
		.show {
			width: 260px;
			height: 400px;
			overflow: hidden;
			margin: 0 auto;
		}
		#box {
			width: 9999px;
			position: relative;
			left: 0px;
			transition: all .5s;
		}
		#box img {
			float: left;
			width: 260px;
			height: 400px;
		}
		.btn {
			height: 50px;
			width: 358px;
			margin: 0 auto;
		}
		.btn span,#left,#right {
			float: left;
			height: 50px;
			width: 50px;
			background: #ccc;
			text-align: center;
			line-height: 50px;
			margin-right: 1px;
		}
		.db {
			display: block;
		}
		.dn {
			display: none;
		}
	</style>
</head>
<script src="Johnz.js"></script>
<body>
	<div class="show">
		<div id="box">
			<img src="image/1.jpg" alt="">
			<img src="image/2.jpg" alt="">
			<img src="image/3.jpg" alt="">
			<img src="image/4.jpg" alt="">
			<img src="image/5.jpg" alt="">
		</div>
	</div>
	<div class="btn">
		<div id="left">left</div>
		<span>1</span>
		<span>2</span>
		<span>3</span>
		<span>4</span>
		<span>5</span>
		<div id="right">right</div>
	</div>
</body>
<script>
	var box = $('box'),
		left = $('left'),
		right = $('right'),
		btn = $cls('btn')[0].getElementsByTagName('span');
		// console.log(left,right);
	for(var i=0;i<btn.length;i++) {
		btn[i].index = i;
		btn[i].onclick = function() {
			clearInterval(timer);
			// 移动对应的距离
			box.style.left = -260 * this.index + 'px';	
			// 移动后,j要变为对应的值,使定时器在对应位置继续执行
			j = this.index;
			// console.log(j);
			go();
		}			
	}	
	// 全局的变量
	var j = 0;
	var timer;
	function go() {
		timer = setInterval(function(){
		// var d = box.style.left;
		// console.log(d);
		j++;
		if(j===5){
			// console.log(d);
			j=0;
		}
		box.style.left = -260 * j + 'px';
		},1500)
	}
	go();
	left.onclick = function() {
		clearInterval(timer);
		// console.log(j);
		// console.log(box.style.left);
		// j=4 已经是最后一张,回到第一张
		if(j===4) {
			// console.log(box.style.left);
			box.style.left = '0px';
			// 对应改变j
			j = 0;
		} else {
			j += 1;
			console.log(j);
			box.style.left = -260 * j + 'px';	
		}
		go();
	} 
	right.onclick = function() {
		clearInterval(timer);
		// j=0显示的是第一张  跳到最后一张
		if(j===0) {
			// 对应改变j
			j = 4;
			box.style.left = -260 * j + 'px';
		} else {
			j -= 1;
			box.style.left = -260 * j + 'px';	
		}
		go();
	} 
</script>
</html>