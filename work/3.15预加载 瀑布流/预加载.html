<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>预加载</title>
	<style>
		.game_main{
		    position: absolute;
		    width: 100%;
		    height: 100%;
		    overflow: hidden;
		}
		.lon_wrap{
		    position: absolute;
		    margin: 0 auto;
		    top: 50%;
		    margin-top: -1.5%;
		    left: 50%;
		    margin-left: -40%;
		    width: 80%;
		    height: 3%;
		    border-radius: 50px;
		    background: rgba(100, 30, 193, 1)

		}
		.lon_wrap i{
		    border-radius:50px;
		    display:block;
		    width:0%;
		    height:100%;
		    background:#FFF;
		}
		.lon{
		    position: absolute;
		    z-index: 999;
		    text-align:center;
		    width:100%;
		    height:100%;
		    background:rgb(16, 6, 40);
		}
		.game_op0{
		    opacity: 0;
		}
		
	</style>
</head>
<body>
	<div class="lon" id="lon">
	    <div class="lon_wrap">
	       <i id="i"></i>
	    </div>
	</div>
	
</body>
<script>
	var _loIndex = 0; 


	var loadArr=["1.png","2.png","3.png","4.png"];
	for(var i in loadArr){
		_loIndex++;
	}

	var myNum=0;
	for (var i = 0; i < loadArr.length; i++) {
		var nImg=new Image();
		nImg.src=loadArr[i]
		nImg.onload=function(){
			myNum++;
			$(".lon_wrap i").css({'width':(myNum/_loIndex)*100 + "%"});
			// 加载完的操作
			if(myNum==_loIndex){
				$(".lon").css({"display":"none"});
				$(".wraper").removeClass('dn');
			}
		}
	};

</script>
</html>